@use "../helpers" as *;

// ==================== Common Page Styles ====================
// Used across multiple pages

.page-custom {
  background: linear-gradient(
    135deg,
    var(--background-color) 0%,
    var(--section-bg) 100%
  );
  min-height: 100vh;
  padding: spacing(8) 0;
}

// ==================== Section Headers ====================
.section-header {
  @include flex-between;
  margin-bottom: spacing(6);

  .section-title {
    color: var(--primary-color);
    font-size: $font-size-2xl;
    font-weight: $font-weight-semibold;
    margin: 0;
    @include flex-center;
    gap: spacing(2);

    i {
      font-size: $font-size-xl;
    }
  }
}

// ==================== Empty States ====================
.empty-state {
  text-align: center;
  padding: spacing(12);
  color: var(--text-light);

  .empty-icon {
    font-size: $font-size-5xl;
    margin-bottom: spacing(4);
  }

  p {
    font-size: $font-size-lg;
    font-style: italic;
    margin-bottom: spacing(2);
  }

  small {
    font-size: $font-size-base;
    color: var(--text-muted);
  }
}

// ==================== Loading States ====================
.loading-container {
  @include flex-column;
  @include flex-center;
  min-height: 50vh;
  color: var(--primary-color);

  .spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(56, 182, 255, 0.2);
    border-top-color: var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  p {
    margin-top: spacing(4);
    font-size: $font-size-lg;
    font-weight: $font-weight-semibold;
  }
}

// ==================== Skeleton Loading ====================
.skeleton-container {
  padding: spacing(4) 0;

  .skeleton-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: spacing(6);
    margin-bottom: spacing(8);
  }

  .skeleton-card,
  .skeleton-chart,
  .skeleton-form,
  .skeleton-line {
    @include skeleton-loading;
  }

  .skeleton-card {
    height: 180px;
    border-radius: var(--border-radius);
  }

  .skeleton-chart {
    height: 400px;
    border-radius: var(--border-radius);
    margin-bottom: spacing(8);
  }

  .skeleton-form {
    height: 200px;
    border-radius: var(--border-radius);
  }

  .skeleton-line {
    height: 20px;
    margin-bottom: spacing(4);
    border-radius: var(--border-radius-sm);

    &.skeleton-title {
      height: 32px;
      width: 200px;
    }

    &.skeleton-input {
      height: 45px;
    }
  }
}

// ==================== Toast Notifications ====================
.toast-container {
  position: fixed;
  top: spacing(8);
  right: spacing(8);
  z-index: z(toast);
  display: flex;
  flex-direction: column;
  gap: spacing(4);
  max-width: 400px;
}

.toast-message,
.toast-notification {
  background: var(--toast-bg);
  color: var(--toast-text);
  padding: $toast-padding;
  border-radius: $toast-border-radius;
  @include shadow-lg;
  animation: toastSlideIn 0.4s ease;

  &.success {
    background: $success;
  }

  &.error,
  &.danger {
    background: $danger;
  }

  &.warning {
    background: $warning;
    color: $gray-900;
  }

  &.info {
    background: $info;
  }

  i {
    margin-right: spacing(2);
  }
}

// ==================== Status Banners ====================
.status-banner {
  padding: spacing(6) spacing(8);
  border-radius: var(--border-radius);
  border-left: 5px solid;
  @include shadow-sm;
  animation: fadeIn 0.5s ease;

  .status-content {
    @include flex-center;
    gap: spacing(6);

    .status-icon {
      font-size: $font-size-4xl;
      animation: pulse 2s infinite;
    }

    .status-text {
      h5 {
        margin: 0 0 spacing(1) 0;
        font-weight: $font-weight-bold;
        font-size: $font-size-xl;
      }

      p {
        margin: 0;
        font-size: $font-size-base;
        opacity: 0.9;
      }
    }
  }

  &.status-excellent {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
    border-color: $success;
    color: #155724;
  }

  &.status-on_track {
    background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
    border-color: $info;
    color: #0c5460;
  }

  &.status-attention_needed {
    background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
    border-color: $warning;
    color: #856404;
  }
}

// ==================== Stats Overview ====================
.stats-overview {
  margin-bottom: spacing(8);

  .row {
    gap: spacing(6);
  }
}

// ==================== Chart Section ====================
.chart-section {
  background: var(--card-bg);
  border-radius: var(--border-radius-lg);
  padding: spacing(8);
  @include shadow-md;
  margin-bottom: spacing(8);

  &.full-width {
    width: 100%;
    max-width: 100%;
  }

  .chart-container {
    width: 100%;
    height: 400px;
    position: relative;

    canvas {
      width: 100% !important;
      height: 100% !important;
    }
  }

  .chart-legend {
    @include flex-center;
    gap: spacing(6);

    .legend-item {
      @include flex-center;
      gap: spacing(2);
      font-size: $font-size-sm;
      color: var(--text-muted);

      .legend-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;

        &.primary {
          background: var(--primary-color);
        }

        &.success {
          background: $success;
        }
      }
    }
  }
}

// ==================== Info Box ====================
.info-box {
  @include flex-center;
  gap: spacing(4);
  padding: spacing(6);
  background: rgba(56, 182, 255, 0.1);
  border-radius: var(--border-radius);
  border-left: 4px solid var(--primary-color);
  margin-bottom: spacing(6);

  i {
    font-size: $font-size-2xl;
    color: var(--primary-color);
  }

  p {
    margin: 0;
    color: var(--text-color);
    font-size: $font-size-base;
  }
}

// ==================== Responsive ====================
@include respond-below(md) {
  .page-custom {
    padding: spacing(4) 0;
  }

  .toast-container {
    top: spacing(4);
    right: spacing(4);
    left: spacing(4);
    max-width: 100%;
  }

  .status-banner {
    padding: spacing(4);

    .status-content {
      flex-direction: column;
      text-align: center;
    }
  }

  .chart-section {
    padding: spacing(4);

    .chart-container {
      height: 300px;
    }
  }
}

// ==================== Print ====================
@media print {
  .toast-container,
  .status-banner {
    @include print-hide;
  }
}
